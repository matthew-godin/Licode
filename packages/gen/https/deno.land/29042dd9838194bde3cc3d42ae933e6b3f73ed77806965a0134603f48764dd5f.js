export const customRandom = (random, alphabet, size) => {
    const mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1;
    const step = -~(1.6 * mask * size / alphabet.length);
    return () => {
        let id = "";
        while (true) {
            const bytes = random(step);
            let i = step;
            while (i--) {
                id += alphabet[bytes[i] & mask] || '';
                if (id.length === +size)
                    return id;
            }
        }
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VzdG9tUmFuZG9tLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY3VzdG9tUmFuZG9tLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLE1BQTZCLEVBQUUsUUFBZ0IsRUFBRSxJQUFZLEVBQUUsRUFBRTtJQUM1RixNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkUsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRXJELE9BQU8sR0FBVyxFQUFFO1FBQ2xCLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNaLE9BQU8sSUFBSSxFQUFFO1lBQ1gsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztZQUNiLE9BQU8sQ0FBQyxFQUFFLEVBQUU7Z0JBRVYsRUFBRSxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUN0QyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJO29CQUFFLE9BQU8sRUFBRSxDQUFDO2FBQ3BDO1NBQ0Y7SUFDSCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBDdXN0b21SYW5kb21HZW5lcmF0b3IgPSAoc2l6ZTogbnVtYmVyKSA9PiBVaW50OEFycmF5IHwgVWludDE2QXJyYXkgfCBVaW50MzJBcnJheTtcblxuZXhwb3J0IGNvbnN0IGN1c3RvbVJhbmRvbSA9IChyYW5kb206IEN1c3RvbVJhbmRvbUdlbmVyYXRvciwgYWxwaGFiZXQ6IHN0cmluZywgc2l6ZTogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IG1hc2sgPSAoMiA8PCAoTWF0aC5sb2coYWxwaGFiZXQubGVuZ3RoIC0gMSkgLyBNYXRoLkxOMikpIC0gMTtcbiAgY29uc3Qgc3RlcCA9IC1+KDEuNiAqIG1hc2sgKiBzaXplIC8gYWxwaGFiZXQubGVuZ3RoKTtcblxuICByZXR1cm4gKCk6IHN0cmluZyA9PiB7XG4gICAgbGV0IGlkID0gXCJcIjtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgYnl0ZXMgPSByYW5kb20oc3RlcCk7XG4gICAgICBsZXQgaSA9IHN0ZXA7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIC8vIEFkZGluZyBgfHwgJydgIHJlZnVzZXMgYSByYW5kb20gYnl0ZSB0aGF0IGV4Y2VlZHMgdGhlIGFscGhhYmV0IHNpemUuXG4gICAgICAgIGlkICs9IGFscGhhYmV0W2J5dGVzW2ldICYgbWFza10gfHwgJyc7XG4gICAgICAgIGlmIChpZC5sZW5ndGggPT09ICtzaXplKSByZXR1cm4gaWQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuIl19