import { serve, serveTLS } from "./deps.ts";
import { isListenTlsOptions } from "./util.ts";
export class HttpServerStd {
    #server;
    constructor(_app, options) {
        this.#server = isListenTlsOptions(options)
            ? serveTLS(options)
            : serve(options);
    }
    close() {
        this.#server.close();
    }
    [Symbol.asyncIterator]() {
        return this.#server[Symbol.asyncIterator]();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cF9zZXJ2ZXJfc3RkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaHR0cF9zZXJ2ZXJfc3RkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRzVDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQTZCL0MsTUFBTSxPQUFPLGFBQWE7SUFFeEIsT0FBTyxDQUFZO0lBRW5CLFlBQ0UsSUFBcUIsRUFDckIsT0FBbUQ7UUFFbkQsSUFBSSxDQUFDLE9BQU8sR0FBRyxrQkFBa0IsQ0FBQyxPQUFPLENBQUM7WUFDeEMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUM7WUFDbkIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBRUQsS0FBSztRQUNILElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQztRQUNwQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUM7SUFDOUMsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTgtMjAyMSB0aGUgb2FrIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIE1JVCBsaWNlbnNlLlxuXG5pbXBvcnQgdHlwZSB7IEFwcGxpY2F0aW9uLCBTdGF0ZSB9IGZyb20gXCIuL2FwcGxpY2F0aW9uLnRzXCI7XG5pbXBvcnQgeyBzZXJ2ZSwgc2VydmVUTFMgfSBmcm9tIFwiLi9kZXBzLnRzXCI7XG5pbXBvcnQgdHlwZSB7IEJ1ZlJlYWRlciwgQnVmV3JpdGVyIH0gZnJvbSBcIi4vZGVwcy50c1wiO1xuaW1wb3J0IHR5cGUgeyBTZXJ2ZXIgfSBmcm9tIFwiLi90eXBlcy5kLnRzXCI7XG5pbXBvcnQgeyBpc0xpc3RlblRsc09wdGlvbnMgfSBmcm9tIFwiLi91dGlsLnRzXCI7XG5cbmludGVyZmFjZSBTdGRTZXJ2ZXIgZXh0ZW5kcyBBc3luY0l0ZXJhYmxlPFNlcnZlclJlcXVlc3Q+IHtcbiAgY2xvc2UoKTogdm9pZDtcbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpOiBBc3luY0l0ZXJhYmxlSXRlcmF0b3I8U2VydmVyUmVxdWVzdD47XG59XG5cbi8qKiBBbiBpbnRlcmZhY2UgdGhhdCBhbGlnbnMgdG8gdGhlIHBhcnRzIG9mIGBzdGQvaHR0cC9zZXJ2ZXJgJ3NcbiAqIGBTZXJ2ZXJSZXF1ZXN0YCB0aGF0IGFjdHVhbGx5IGlzIGNvbnN1bWVkIGJ5IG9hay4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmVyUmVxdWVzdCB7XG4gIGJvZHk6IERlbm8uUmVhZGVyO1xuICBjb25uOiBEZW5vLkNvbm47XG4gIGhlYWRlcnM6IEhlYWRlcnM7XG4gIG1ldGhvZDogc3RyaW5nO1xuICByOiBCdWZSZWFkZXI7XG4gIHJlc3BvbmQocmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlKTogUHJvbWlzZTx2b2lkPjtcbiAgdXJsOiBzdHJpbmc7XG4gIHc6IEJ1ZldyaXRlcjtcbn1cblxuLyoqIEFuIGludGVyZmFjZSB0aGF0IGFsaWducyB0byB3aGF0IG9hayByZXR1cm5zIGFuZCBpcyBjb21wYXRpYmxlIHdpdGhcbiAqIGBzdGQvaHR0cC9zZXJ2ZXJgJ3MgYHJlcXVlc3QucmVzcG9uZCgpYC4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmVyUmVzcG9uc2Uge1xuICBzdGF0dXM6IG51bWJlcjtcbiAgaGVhZGVyczogSGVhZGVycztcbiAgYm9keTogVWludDhBcnJheSB8IERlbm8uUmVhZGVyIHwgdW5kZWZpbmVkO1xufVxuXG4vLyBkZW5vLWxpbnQtaWdub3JlIG5vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGNsYXNzIEh0dHBTZXJ2ZXJTdGQ8QVMgZXh0ZW5kcyBTdGF0ZSA9IFJlY29yZDxzdHJpbmcsIGFueT4+XG4gIGltcGxlbWVudHMgU2VydmVyPFNlcnZlclJlcXVlc3Q+IHtcbiAgI3NlcnZlcjogU3RkU2VydmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIF9hcHA6IEFwcGxpY2F0aW9uPEFTPixcbiAgICBvcHRpb25zOiBEZW5vLkxpc3Rlbk9wdGlvbnMgfCBEZW5vLkxpc3RlblRsc09wdGlvbnMsXG4gICkge1xuICAgIHRoaXMuI3NlcnZlciA9IGlzTGlzdGVuVGxzT3B0aW9ucyhvcHRpb25zKVxuICAgICAgPyBzZXJ2ZVRMUyhvcHRpb25zKVxuICAgICAgOiBzZXJ2ZShvcHRpb25zKTtcbiAgfVxuXG4gIGNsb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuI3NlcnZlci5jbG9zZSgpO1xuICB9XG5cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpOiBBc3luY0l0ZXJhYmxlSXRlcmF0b3I8U2VydmVyUmVxdWVzdD4ge1xuICAgIHJldHVybiB0aGlzLiNzZXJ2ZXJbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gIH1cbn1cbiJdfQ==