/*!
 * Adapted directly from http-errors at https://github.com/jshttp/http-errors
 * which is licensed as follows:
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Jonathan Ong me@jongleberry.com
 * Copyright (c) 2016 Douglas Christopher Wilson doug@somethingdoug.com
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
import { Status, STATUS_TEXT } from "./deps.ts";
const errorStatusMap = {
    "BadRequest": 400,
    "Unauthorized": 401,
    "PaymentRequired": 402,
    "Forbidden": 403,
    "NotFound": 404,
    "MethodNotAllowed": 405,
    "NotAcceptable": 406,
    "ProxyAuthRequired": 407,
    "RequestTimeout": 408,
    "Conflict": 409,
    "Gone": 410,
    "LengthRequired": 411,
    "PreconditionFailed": 412,
    "RequestEntityTooLarge": 413,
    "RequestURITooLong": 414,
    "UnsupportedMediaType": 415,
    "RequestedRangeNotSatisfiable": 416,
    "ExpectationFailed": 417,
    "Teapot": 418,
    "MisdirectedRequest": 421,
    "UnprocessableEntity": 422,
    "Locked": 423,
    "FailedDependency": 424,
    "UpgradeRequired": 426,
    "PreconditionRequired": 428,
    "TooManyRequests": 429,
    "RequestHeaderFieldsTooLarge": 431,
    "UnavailableForLegalReasons": 451,
    "InternalServerError": 500,
    "NotImplemented": 501,
    "BadGateway": 502,
    "ServiceUnavailable": 503,
    "GatewayTimeout": 504,
    "HTTPVersionNotSupported": 505,
    "VariantAlsoNegotiates": 506,
    "InsufficientStorage": 507,
    "LoopDetected": 508,
    "NotExtended": 510,
    "NetworkAuthenticationRequired": 511,
};
export class HttpError extends Error {
    expose = false;
    status = Status.InternalServerError;
}
function createHttpErrorConstructor(status) {
    const name = `${Status[status]}Error`;
    const Ctor = class extends HttpError {
        constructor(message) {
            super();
            this.message = message || STATUS_TEXT.get(status);
            this.status = status;
            this.expose = status >= 400 && status < 500 ? true : false;
            Object.defineProperty(this, "name", {
                configurable: true,
                enumerable: false,
                value: name,
                writable: true,
            });
        }
    };
    return Ctor;
}
export const httpErrors = {};
for (const [key, value] of Object.entries(errorStatusMap)) {
    httpErrors[key] = createHttpErrorConstructor(value);
}
export function createHttpError(status = 500, message) {
    return new httpErrors[Status[status]](message);
}
export function isHttpError(value) {
    return value instanceof HttpError;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cEVycm9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaHR0cEVycm9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQTBCRztBQUVILE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBR2hELE1BQU0sY0FBYyxHQUFHO0lBQ3JCLFlBQVksRUFBRSxHQUFHO0lBQ2pCLGNBQWMsRUFBRSxHQUFHO0lBQ25CLGlCQUFpQixFQUFFLEdBQUc7SUFDdEIsV0FBVyxFQUFFLEdBQUc7SUFDaEIsVUFBVSxFQUFFLEdBQUc7SUFDZixrQkFBa0IsRUFBRSxHQUFHO0lBQ3ZCLGVBQWUsRUFBRSxHQUFHO0lBQ3BCLG1CQUFtQixFQUFFLEdBQUc7SUFDeEIsZ0JBQWdCLEVBQUUsR0FBRztJQUNyQixVQUFVLEVBQUUsR0FBRztJQUNmLE1BQU0sRUFBRSxHQUFHO0lBQ1gsZ0JBQWdCLEVBQUUsR0FBRztJQUNyQixvQkFBb0IsRUFBRSxHQUFHO0lBQ3pCLHVCQUF1QixFQUFFLEdBQUc7SUFDNUIsbUJBQW1CLEVBQUUsR0FBRztJQUN4QixzQkFBc0IsRUFBRSxHQUFHO0lBQzNCLDhCQUE4QixFQUFFLEdBQUc7SUFDbkMsbUJBQW1CLEVBQUUsR0FBRztJQUN4QixRQUFRLEVBQUUsR0FBRztJQUNiLG9CQUFvQixFQUFFLEdBQUc7SUFDekIscUJBQXFCLEVBQUUsR0FBRztJQUMxQixRQUFRLEVBQUUsR0FBRztJQUNiLGtCQUFrQixFQUFFLEdBQUc7SUFDdkIsaUJBQWlCLEVBQUUsR0FBRztJQUN0QixzQkFBc0IsRUFBRSxHQUFHO0lBQzNCLGlCQUFpQixFQUFFLEdBQUc7SUFDdEIsNkJBQTZCLEVBQUUsR0FBRztJQUNsQyw0QkFBNEIsRUFBRSxHQUFHO0lBQ2pDLHFCQUFxQixFQUFFLEdBQUc7SUFDMUIsZ0JBQWdCLEVBQUUsR0FBRztJQUNyQixZQUFZLEVBQUUsR0FBRztJQUNqQixvQkFBb0IsRUFBRSxHQUFHO0lBQ3pCLGdCQUFnQixFQUFFLEdBQUc7SUFDckIseUJBQXlCLEVBQUUsR0FBRztJQUM5Qix1QkFBdUIsRUFBRSxHQUFHO0lBQzVCLHFCQUFxQixFQUFFLEdBQUc7SUFDMUIsY0FBYyxFQUFFLEdBQUc7SUFDbkIsYUFBYSxFQUFFLEdBQUc7SUFDbEIsK0JBQStCLEVBQUUsR0FBRztDQUNyQyxDQUFDO0FBR0YsTUFBTSxPQUFPLFNBQVUsU0FBUSxLQUFLO0lBTWxDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFHZixNQUFNLEdBQUcsTUFBTSxDQUFDLG1CQUFtQixDQUFDO0NBQ3JDO0FBRUQsU0FBUywwQkFBMEIsQ0FDakMsTUFBbUI7SUFFbkIsTUFBTSxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztJQUN0QyxNQUFNLElBQUksR0FBRyxLQUFNLFNBQVEsU0FBUztRQUNsQyxZQUFZLE9BQWdCO1lBQzFCLEtBQUssRUFBRSxDQUFDO1lBRVIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLElBQUksV0FBVyxDQUFDLEdBQUcsQ0FBQyxNQUFhLENBQUUsQ0FBQztZQUMxRCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztZQUNyQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sSUFBSSxHQUFHLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDM0QsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFO2dCQUNsQyxZQUFZLEVBQUUsSUFBSTtnQkFDbEIsVUFBVSxFQUFFLEtBQUs7Z0JBQ2pCLEtBQUssRUFBRSxJQUFJO2dCQUNYLFFBQVEsRUFBRSxJQUFJO2FBQ2YsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztLQUNGLENBQUM7SUFDRixPQUFPLElBQVMsQ0FBQztBQUNuQixDQUFDO0FBT0QsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUVyQixFQUFTLENBQUM7QUFFWixLQUFLLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFBRTtJQUN6RCxVQUFVLENBQUMsR0FBa0MsQ0FBQyxHQUFHLDBCQUEwQixDQUN6RSxLQUFLLENBQ04sQ0FBQztDQUNIO0FBSUQsTUFBTSxVQUFVLGVBQWUsQ0FDN0IsU0FBc0IsR0FBRyxFQUN6QixPQUFnQjtJQUVoQixPQUFPLElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQWdDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNoRixDQUFDO0FBR0QsTUFBTSxVQUFVLFdBQVcsQ0FBQyxLQUFVO0lBQ3BDLE9BQU8sS0FBSyxZQUFZLFNBQVMsQ0FBQztBQUNwQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBZGFwdGVkIGRpcmVjdGx5IGZyb20gaHR0cC1lcnJvcnMgYXQgaHR0cHM6Ly9naXRodWIuY29tL2pzaHR0cC9odHRwLWVycm9yc1xuICogd2hpY2ggaXMgbGljZW5zZWQgYXMgZm9sbG93czpcbiAqXG4gKiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgSm9uYXRoYW4gT25nIG1lQGpvbmdsZWJlcnJ5LmNvbVxuICogQ29weXJpZ2h0IChjKSAyMDE2IERvdWdsYXMgQ2hyaXN0b3BoZXIgV2lsc29uIGRvdWdAc29tZXRoaW5nZG91Zy5jb21cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5cbmltcG9ydCB7IFN0YXR1cywgU1RBVFVTX1RFWFQgfSBmcm9tIFwiLi9kZXBzLnRzXCI7XG5pbXBvcnQgdHlwZSB7IEVycm9yU3RhdHVzIH0gZnJvbSBcIi4vdHlwZXMuZC50c1wiO1xuXG5jb25zdCBlcnJvclN0YXR1c01hcCA9IHtcbiAgXCJCYWRSZXF1ZXN0XCI6IDQwMCxcbiAgXCJVbmF1dGhvcml6ZWRcIjogNDAxLFxuICBcIlBheW1lbnRSZXF1aXJlZFwiOiA0MDIsXG4gIFwiRm9yYmlkZGVuXCI6IDQwMyxcbiAgXCJOb3RGb3VuZFwiOiA0MDQsXG4gIFwiTWV0aG9kTm90QWxsb3dlZFwiOiA0MDUsXG4gIFwiTm90QWNjZXB0YWJsZVwiOiA0MDYsXG4gIFwiUHJveHlBdXRoUmVxdWlyZWRcIjogNDA3LFxuICBcIlJlcXVlc3RUaW1lb3V0XCI6IDQwOCxcbiAgXCJDb25mbGljdFwiOiA0MDksXG4gIFwiR29uZVwiOiA0MTAsXG4gIFwiTGVuZ3RoUmVxdWlyZWRcIjogNDExLFxuICBcIlByZWNvbmRpdGlvbkZhaWxlZFwiOiA0MTIsXG4gIFwiUmVxdWVzdEVudGl0eVRvb0xhcmdlXCI6IDQxMyxcbiAgXCJSZXF1ZXN0VVJJVG9vTG9uZ1wiOiA0MTQsXG4gIFwiVW5zdXBwb3J0ZWRNZWRpYVR5cGVcIjogNDE1LFxuICBcIlJlcXVlc3RlZFJhbmdlTm90U2F0aXNmaWFibGVcIjogNDE2LFxuICBcIkV4cGVjdGF0aW9uRmFpbGVkXCI6IDQxNyxcbiAgXCJUZWFwb3RcIjogNDE4LFxuICBcIk1pc2RpcmVjdGVkUmVxdWVzdFwiOiA0MjEsXG4gIFwiVW5wcm9jZXNzYWJsZUVudGl0eVwiOiA0MjIsXG4gIFwiTG9ja2VkXCI6IDQyMyxcbiAgXCJGYWlsZWREZXBlbmRlbmN5XCI6IDQyNCxcbiAgXCJVcGdyYWRlUmVxdWlyZWRcIjogNDI2LFxuICBcIlByZWNvbmRpdGlvblJlcXVpcmVkXCI6IDQyOCxcbiAgXCJUb29NYW55UmVxdWVzdHNcIjogNDI5LFxuICBcIlJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZVwiOiA0MzEsXG4gIFwiVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnNcIjogNDUxLFxuICBcIkludGVybmFsU2VydmVyRXJyb3JcIjogNTAwLFxuICBcIk5vdEltcGxlbWVudGVkXCI6IDUwMSxcbiAgXCJCYWRHYXRld2F5XCI6IDUwMixcbiAgXCJTZXJ2aWNlVW5hdmFpbGFibGVcIjogNTAzLFxuICBcIkdhdGV3YXlUaW1lb3V0XCI6IDUwNCxcbiAgXCJIVFRQVmVyc2lvbk5vdFN1cHBvcnRlZFwiOiA1MDUsXG4gIFwiVmFyaWFudEFsc29OZWdvdGlhdGVzXCI6IDUwNixcbiAgXCJJbnN1ZmZpY2llbnRTdG9yYWdlXCI6IDUwNyxcbiAgXCJMb29wRGV0ZWN0ZWRcIjogNTA4LFxuICBcIk5vdEV4dGVuZGVkXCI6IDUxMCxcbiAgXCJOZXR3b3JrQXV0aGVudGljYXRpb25SZXF1aXJlZFwiOiA1MTEsXG59O1xuXG4vKiogQSBiYXNlIGNsYXNzIGZvciBpbmRpdmlkdWFsIGNsYXNzZXMgb2YgSFRUUCBlcnJvcnMuICovXG5leHBvcnQgY2xhc3MgSHR0cEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKiogRGV0ZXJtaW5lcyBpZiBkZXRhaWxzIGFib3V0IHRoZSBlcnJvciBzaG91bGQgYmUgYXV0b21hdGljYWxseSBleHBvc2VkXG4gICAqIGluIGEgcmVzcG9uc2UuICBUaGlzIGlzIGF1dG9tYXRpY2FsbHkgc2V0IHRvIGB0cnVlYCBmb3IgNFhYIGVycm9ycywgYXNcbiAgICogdGhleSByZXByZXNlbnQgZXJyb3JzIGluIHRoZSByZXF1ZXN0LCB3aGlsZSA1WFggZXJyb3JzIGFyZSBzZXQgdG8gYGZhbHNlYFxuICAgKiBhcyB0aGV5IGFyZSBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3JzIGFuZCBleHBvc2luZyBkZXRhaWxzIGNvdWxkIGxlYWtcbiAgICogaW1wb3J0YW50IHNlcnZlciBzZWN1cml0eSBpbmZvcm1hdGlvbi4gKi9cbiAgZXhwb3NlID0gZmFsc2U7XG5cbiAgLyoqIFRoZSBIVFRQIGVycm9yIHN0YXR1cyBhc3NvY2lhdGVkIHdpdGggdGhpcyBjbGFzcyBvZiBlcnJvci4gKi9cbiAgc3RhdHVzID0gU3RhdHVzLkludGVybmFsU2VydmVyRXJyb3I7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUh0dHBFcnJvckNvbnN0cnVjdG9yPEUgZXh0ZW5kcyB0eXBlb2YgSHR0cEVycm9yPihcbiAgc3RhdHVzOiBFcnJvclN0YXR1cyxcbik6IEUge1xuICBjb25zdCBuYW1lID0gYCR7U3RhdHVzW3N0YXR1c119RXJyb3JgO1xuICBjb25zdCBDdG9yID0gY2xhc3MgZXh0ZW5kcyBIdHRwRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICAvLyBkZW5vLWxpbnQtaWdub3JlIG5vLWV4cGxpY2l0LWFueVxuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSB8fCBTVEFUVVNfVEVYVC5nZXQoc3RhdHVzIGFzIGFueSkhO1xuICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICB0aGlzLmV4cG9zZSA9IHN0YXR1cyA+PSA0MDAgJiYgc3RhdHVzIDwgNTAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIEN0b3IgYXMgRTtcbn1cblxuLyoqIEFuIG9iamVjdCB3aGljaCBjb250YWlucyBhbiBpbmRpdmlkdWFsIEhUVFAgRXJyb3IgZm9yIGVhY2ggSFRUUCBzdGF0dXNcbiAqIGVycm9yIGNvZGUgKDRYWCBhbmQgNVhYKS4gIFdoZW4gZXJyb3JzIGFyZSByYWlzZWQgcmVsYXRlZCB0byBhIHBhcnRpY3VsYXJcbiAqIEhUVFAgc3RhdHVzIGNvZGUsIHRoZXkgd2lsbCBiZSBvZiB0aGUgYXBwcm9wcmlhdGUgaW5zdGFuY2UgbG9jYXRlZCBvbiB0aGlzXG4gKiBvYmplY3QuICBBbHNvLCBjb250ZXh0J3MgYC50aHJvdygpYCB3aWxsIHRocm93IGVycm9ycyBiYXNlZCBvbiB0aGUgcGFzc2VkXG4gKiBzdGF0dXMgY29kZS4gKi9cbmV4cG9ydCBjb25zdCBodHRwRXJyb3JzOiBSZWNvcmQ8a2V5b2YgdHlwZW9mIGVycm9yU3RhdHVzTWFwLCB0eXBlb2YgSHR0cEVycm9yPiA9XG4gIC8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG4gIHt9IGFzIGFueTtcblxuZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZXJyb3JTdGF0dXNNYXApKSB7XG4gIGh0dHBFcnJvcnNba2V5IGFzIGtleW9mIHR5cGVvZiBlcnJvclN0YXR1c01hcF0gPSBjcmVhdGVIdHRwRXJyb3JDb25zdHJ1Y3RvcihcbiAgICB2YWx1ZSxcbiAgKTtcbn1cblxuLyoqIENyZWF0ZSBhIHNwZWNpZmljIGNsYXNzIG9mIGBIdHRwRXJyb3JgIGJhc2VkIG9uIHRoZSBzdGF0dXMsIHdoaWNoIGRlZmF1bHRzXG4gKiB0byBfNTAwIEludGVybmFsIFNlcnZlciBFcnJvcl8uICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSHR0cEVycm9yKFxuICBzdGF0dXM6IEVycm9yU3RhdHVzID0gNTAwLFxuICBtZXNzYWdlPzogc3RyaW5nLFxuKTogSHR0cEVycm9yIHtcbiAgcmV0dXJuIG5ldyBodHRwRXJyb3JzW1N0YXR1c1tzdGF0dXNdIGFzIGtleW9mIHR5cGVvZiBlcnJvclN0YXR1c01hcF0obWVzc2FnZSk7XG59XG5cbi8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gaXNIdHRwRXJyb3IodmFsdWU6IGFueSk6IHZhbHVlIGlzIEh0dHBFcnJvciB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEh0dHBFcnJvcjtcbn1cbiJdfQ==